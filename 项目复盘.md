### 遇到的困难点
1. keep-alive watch的问题
2. 定时器修改（闭包）
3. 查询返回的mongodb无法修改，为MongooseDocuments对象，对象会对数据进行实时查询以保证其符合预定义的model，所以添加其它model中没有的属性时是无法添加成功的。
4. foreach异步问题
5. 点击穿透上下层
6. 使用src属性的元素被解析时会暂停其他的渲染（js阻塞，iframe阻塞）
7. 合并同联系人同类型消息
8. 递归组件，深搜索，深拷贝，循环引用无法JSON
### webpack配置遇到的困难点
1. postcss-loader这个版本不支持在webpack.config.js文件中用插件，要在postcss.config.js中写  webpack5
2. 

### 微信公众号开发
1. 接入
2. 网页授权 OAuth2.0
3. 选用node：事件驱动，异步编程，不为每个客户创建新的线程，仅仅使用一个线程，用户连接，触发一个内部事件，通过非阻塞I/O、事件驱动机制、宏观并行。使用 Node.js，一个 8GB 内存的服务器，可以同时处理超过 4 万用户的连接。不是静态语言，运行时才出错。
4. ejs.render(tpl,data)
5. 聚合查询，unwind match root newRoot group

### 微信小程序与vue区别
1. vue的钩子函数在跳转新页面时，钩子函数都会触发，但是小程序的钩子函数，页面不同的跳转方式，触发的钩子并不一样。
onLoad：页面加载
一个页面只会调用一次，可以在 onLoad 中获取打开当前页面所调用的 query 参数。
onShow：页面显示  每次打开页面都会调用一次。
onReady：页面初次渲染完成
一个页面只会调用一次，代表页面已经准备妥当，可以和视图层进行交互。
对界面的设置如 wx.setNavigationBarTitle请在 onReady之后设置。详见生命周期。
onHide：页面隐藏
当 navigateTo或底部tab切换时调用。
onUnload：页面卸载
当 redirectTo或 navigateBack的时候调用。
数据请求
在页面加载请求数据时，两者钩子的使用有些类似，vue一般会在 created或者 mounted中请求数据，而在小程序，会在 onLoad或者 onShow中请求数据。


2. 数据绑定
vue：vue动态绑定一个变量的值为元素的某个属性的时候，会在变量前面加上冒号：
小程序：绑定某个变量的值为元素属性时，会用两个大括号括起来，如果不加括号，为被认为是字符串。

3. 列表渲染
Page({})  new Vue({})

4. 显示与隐藏元素
vue中，使用 v-if 和 v-show控制元素的显示和隐藏。
小程序中，使用 wx-if和 hidden控制元素的显示和隐藏。
5. 事件处理
vue @event   / v-on:event
小程序中，全用 bindtap(bind+event)，或者 catchtap(catch+event)绑定事件(不冒泡)
6. 双向绑定
在vue中，只需要再表单元素上加上 v-model,然后再绑定 data中对应的一个值，当表单元素内容发生变化时， data中对应的值也会相应改变，这是vue非常nice的一点。
当表单内容发生变化时，会触发表单元素上绑定的方法，然后在该方法中，通过 this.setData({key:value})来将表单上的值赋值给 data中的对应值。
vue中，通过 this.reason取值。
小程序中，通过 this.data.reason取值
7. 绑定事件传参
在vue中，绑定事件传参挺简单，只需要在触发事件的方法中，把需要传递的数据作为形参传入就可以了，例如
`<button @click="say('明天不上班')"></button>`
在 小程序中，不能直接在绑定事件的方法中传入参数，需要将参数作为属性值，绑定到元素上的 data-属性上，然后在方法中，通过 e.currentTarget.dataset.*的方式获取，从而完成参数的传递
8. 在小程序中，需要：1、编写子组件2、在子组件的 json文件中，将该文件声明为组件,
在需要引入的父组件的 json文件中，在 usingComponents填写引入组件的组件名以及路径
9. vue会给子组件添加一个 ref属性，通过 this.$refs.ref的值便可以获取到该子组件，然后便可以调用子组件中的任意方法

#### BLE相关
1. 写数据时，要填入arraybuffer类型数据，ArrayBuffer 对象用来表示通用的、固定长度的原始二进制数据缓冲区。你不能直接操作 ArrayBuffer 的内容，而是要通过类型数组对象或 DataView 对象来操作，它们会将缓冲区中的数据表示为特定的格式，并通过这些格式来读写缓冲区的内容。DataView 视图是一个可以从 二进制ArrayBuffer 对象中读写多种数值类型的底层接口，你可以把返回的对象想象成一个二进制字节缓存区 array buffer 的“解释器”——它知道如何在读取或写入时正确地转换字节码。这意味着它能在二进制层面处理整数与浮点转化、字节顺序等其他有关的细节问题。

### webmail
1. 档案管理系统采用通用curd接口，配合restful api 表征性状态转移一种接口规范，引入inflection模块找到资源接口对应的model，增删改查。错误处理中间件，res.stauts.send,前端axios拦截错误信息和状态码，如果是401就返回登录页面并vue.prototype报错（返回promise）
2. express内部维护一个中间件函数数组，next()就是执行下一个函数，koa2基于promise，同样都是洋葱模型，但是express异步next执行结果会和想想的不一样，koa2不会
3. 用mongodb原因：部署简单，键值对存储，结构不固定，面向文档型，可快速查询数据，新增属性开销较小，不用重建索引，高性能并发读写的是redis。schema，支持范围查询、正则查询
4. 